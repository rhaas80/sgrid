nothing yet for sgrid...



OLD FOR BAM:
============

Comments on the administration of CVS repository
------------------------------------------------

CVS root directory:
setenv CVSROOT :gserver:bruegman@horizon.gravity.psu.edu/usr/center/gravity/cvs

Kerberos authentication:
~> kinit
Password for bruegman@GRAVITY.PSU.EDU: *******
~> klist
Ticket cache: FILE:/tmp/krb5cc_59154_9SEn3E
Default principal: bruegman@GRAVITY.PSU.EDU
Valid starting     Expires            Service principal
10/09/02 15:16:06  10/10/02 01:16:06  krbtgt/GRAVITY.PSU.EDU@GRAVITY.PSU.EDU

Try "kinit -A" if there is a problem with the "net address". This
requests address-less tickets.  (Not applicable to Kerberos 4.)


Creating a new directory:
-------------------------

- ask help@gravity.psu.edu to create a new unix group if needed

- go to the root directory:
horizon:/usr/center/gravity/cvs>

- change to the unix group that will access this directory:
horizon:/usr/center/gravity/cvs> newgrp bam

- you can check the result:
horizon:/usr/center/gravity/cvs> id
uid=59054(bruegman) gid=501(bam) groups=59054(bruegman),59061(cvsgroup),501(bam),501(bam),59061(cvsgroup)

- create the directory
horizon:/usr/center/gravity/cvs> mkdir bam
horizon:/usr/center/gravity/cvs> ls -l
total 20
drwx------    2 bruegman bam          4096 Oct  9 15:21 bam
...

- you can also use the 'chgrp' command:
chgrp ptp PaperMaximalLTA

- to see who is in a group: 
ypcat group | grep ptp

- set permissions for the group and make them sticky
  the sticky bit ensures that further directories and files inherit permissions
horizon:/usr/center/gravity/cvs> chmod 2770 bam
horizon:/usr/center/gravity/cvs> ls -l
total 20
drwxrws---    2 bruegman bam          4096 Oct  9 15:21 bam

- Jeff Minelli says:
Read section 5.2 of
   http://www.linuxdocs.org/HOWTOs/Security-HOWTO-5.html for an
understanding of file permissions.
s vs S: little "s" means that the "x" bit is also set.
Basically you _never_ want an suid file. I don't really know what the
"s" on directory owner does. I assume nothing.
I suggest using the command "chmod a-rwxs,u+rwx,g+rwxs file" or more
simply "chmod 2770 file".

- rarely needed: copy from other repository to preserve history
cp -R ...   
  now the permissions are wrong despite the sticky bit
  but you can recursively set permissions as needed with find:
find . -type d -exec chmod ug+rwxs {} \;
find . -type f -exec chmod ug+r {} \;


- Don't forget to add/import for first checkout!
Usually one does a "cvs import" to get files into CVS for the first time,
and then one has to check out a fresh new copy. I just did a
  cvs add PaperMaximalLTS
and my first checkout worked ok.





Old for AEI:
=========================================

Current root:
/afs/aei-potsdam.mpg.de/u/bruegman/cvsroot

Checking out bam:
cvs -d /afs/aei-potsdam.mpg.de/u/bruegman/cvsroot checkout bam


AFS commands to manage access:
------------------------------

Groups:
pts help

Creating a group:
pts creategroup -name bruegman:bamusers

Adding a user to the group:
pts adduser -user bruegman -group bruegman:bamusers

Check:
pts membership bruegman:bamusers


Check AFS access:
fs la dirname

Set AFS access rights:
fs setacl -dir bam -acl bruegman:bamusers rlidwk
fs setacl -dir */* -acl bruegman:bamusers rlidwk



